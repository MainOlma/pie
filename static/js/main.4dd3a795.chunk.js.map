{"version":3,"sources":["img/pie.png","img sync nonrecursive /.(png|jpe?g|svg)$","img/Bird's Nest Pudding Pie.png","img/Blackberry.png","img/Blueberry Cherry.png","img/Blueberry Pear Crumble.png","img/Buttermilk.png","img/Captain Crunch.png","img/Carrot Meringue.png","img/Carrot.png","img/Cast Iron Apple Pie.png","img/Chez Panisse Lemon Meringe.png","img/Chocolate Avocado.png","img/Chocolate Peanut Butter.png","img/Chocolate Peanut Pie Mashup.png","img/Chocolate Peanut Tart.png","img/Coconut Cream.png","img/Coffee Chess.png","img/Corn Cardamom Custard.png","img/Crack Pie.png","img/Eggnog custard.png","img/Five berry pie.png","img/Freedom Pie.png","img/Gluten-free Blackberry.png","img/Key Lime Raspberry.png","img/Lemon Ice Box.png","img/Marie Calendar's Pot Pies.png","img/Mixed berry.png","img/Nectarine-Raspberry.png","img/Orange Meringue.png","img/Pear Ginger.png","img/Piecaken.png","img/Pumpkin Pecan.png","img/Raspberry Blueberry.png","img/Raw Pumpkin.png","img/Ruffled MIlk Pie.png","img/Salted Honey II.png","img/Salted Honey.png","img/Samoa II.png","img/Samoa.png","img/Shoofly.png","img/Strawberry Basil.png","img/Strawberry Rhubarb.png","img/Strawberry pie.png","img/Virginia Peanut Pie.png","img/Walgreens Pie.png","img/White Peach.png","img/Yellow Peach-1.png","img/Yellow Peach.png","Triangle.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","map","./Bird's Nest Pudding Pie.png","./Blackberry.png","./Blueberry Cherry.png","./Blueberry Pear Crumble.png","./Buttermilk.png","./Captain Crunch.png","./Carrot Meringue.png","./Carrot.png","./Cast Iron Apple Pie.png","./Chez Panisse Lemon Meringe.png","./Chocolate Avocado.png","./Chocolate Peanut Butter.png","./Chocolate Peanut Pie Mashup.png","./Chocolate Peanut Tart.png","./Coconut Cream.png","./Coffee Chess.png","./Corn Cardamom Custard.png","./Crack Pie.png","./Eggnog custard.png","./Five berry pie.png","./Freedom Pie.png","./Gluten-free Blackberry.png","./Key Lime Raspberry.png","./Lemon Ice Box.png","./Marie Calendar's Pot Pies.png","./Mixed berry.png","./Nectarine-Raspberry.png","./Orange Meringue.png","./Pear Ginger.png","./Piecaken.png","./Pumpkin Pecan.png","./Raspberry Blueberry.png","./Raw Pumpkin.png","./Ruffled MIlk Pie.png","./Salted Honey II.png","./Salted Honey.png","./Samoa II.png","./Samoa.png","./Shoofly.png","./Strawberry Basil.png","./Strawberry Rhubarb.png","./Strawberry pie.png","./Virginia Peanut Pie.png","./Walgreens Pie.png","./White Peach.png","./Yellow Peach-1.png","./Yellow Peach.png","./pie.png","webpackContext","req","id","webpackContextResolve","o","e","Error","code","keys","Object","resolve","Triangle","props","svg_ref","React","createRef","_useState","useState","_useState2","slicedToArray","render","setRender","useEffect","console","log","data","length","fills","draw","svg","d3","current","nested","key","d","rollup","entries","sort","a","b","value","popular_fills_names","slice","forEach","mod_fill_1","includes","fill_1","mod_fill_2","fill_2","filter","el","push","table","g_lines","append","attr","g_texts","i","xx","text","classed","_loop","j","filter2","on","selectedFill","f1","f2","count","hor_gap","selectAll","this","react_default","createElement","className","ref","width","height","App","pieContainer_ref","setData","_useState3","_useState4","setFills","_useState5","_useState6","setSelectedFill","then","raw_data","parseDate","mydata","replace","name","date","alec","crust","img","Image","notes","is_pie","recipe","drawListOfPies","images","r","item","index","importAll","require","pie_container","format","nested_by_date","month_div","enter","html","formatMonth","formatYear","parseTime","month","select","node","element","parentNode","parent","div","document","insertBefore","unwrap","wrapper","docFrag","createDocumentFragment","firstChild","child","removeChild","appendChild","replaceChild","values","pie_img","pie","formatDay","wrapClass","hideClass","activeClass","dd","remove","style","getBoundingClientRect","left","top","window","scrollY","querySelectorAll","g","getTime","__data__","src_Triangle","href","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,6HCAxC,IAAAC,EAAA,CACAC,gCAAA,GACAC,mBAAA,GACAC,yBAAA,GACAC,+BAAA,GACAC,mBAAA,GACAC,uBAAA,GACAC,wBAAA,GACAC,eAAA,GACAC,4BAAA,GACAC,mCAAA,GACAC,0BAAA,GACAC,gCAAA,GACAC,oCAAA,GACAC,8BAAA,GACAC,sBAAA,GACAC,qBAAA,GACAC,8BAAA,GACAC,kBAAA,GACAC,uBAAA,GACAC,uBAAA,GACAC,oBAAA,GACAC,+BAAA,GACAC,2BAAA,GACAC,sBAAA,GACAC,kCAAA,GACAC,oBAAA,GACAC,4BAAA,GACAC,wBAAA,GACAC,oBAAA,GACAC,iBAAA,GACAC,sBAAA,GACAC,4BAAA,GACAC,oBAAA,GACAC,yBAAA,GACAC,wBAAA,GACAC,qBAAA,GACAC,iBAAA,GACAC,cAAA,GACAC,gBAAA,GACAC,yBAAA,GACAC,2BAAA,GACAC,uBAAA,GACAC,4BAAA,GACAC,sBAAA,GACAC,oBAAA,GACAC,uBAAA,GACAC,qBAAA,GACAC,YAAA,GAIA,SAAAC,EAAAC,GACA,IAAAC,EAAAC,EAAAF,GACA,OAAApD,EAAAqD,GAEA,SAAAC,EAAAF,GACA,IAAApD,EAAAuD,EAAArD,EAAAkD,GAAA,CACA,IAAAI,EAAA,IAAAC,MAAA,uBAAAL,EAAA,KAEA,MADAI,EAAAE,KAAA,mBACAF,EAEA,OAAAtD,EAAAkD,GAEAD,EAAAQ,KAAA,WACA,OAAAC,OAAAD,KAAAzD,IAEAiD,EAAAU,QAAAP,EACAxD,EAAAC,QAAAoD,EACAA,EAAAE,GAAA,oBCrEAvD,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,gECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,gECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC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","file":"static/js/main.4dd3a795.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pie.8ee147df.png\";","var map = {\n\t\"./Bird's Nest Pudding Pie.png\": 15,\n\t\"./Blackberry.png\": 16,\n\t\"./Blueberry Cherry.png\": 17,\n\t\"./Blueberry Pear Crumble.png\": 18,\n\t\"./Buttermilk.png\": 19,\n\t\"./Captain Crunch.png\": 20,\n\t\"./Carrot Meringue.png\": 21,\n\t\"./Carrot.png\": 22,\n\t\"./Cast Iron Apple Pie.png\": 23,\n\t\"./Chez Panisse Lemon Meringe.png\": 24,\n\t\"./Chocolate Avocado.png\": 25,\n\t\"./Chocolate Peanut Butter.png\": 26,\n\t\"./Chocolate Peanut Pie Mashup.png\": 27,\n\t\"./Chocolate Peanut Tart.png\": 28,\n\t\"./Coconut Cream.png\": 29,\n\t\"./Coffee Chess.png\": 30,\n\t\"./Corn Cardamom Custard.png\": 31,\n\t\"./Crack Pie.png\": 32,\n\t\"./Eggnog custard.png\": 33,\n\t\"./Five berry pie.png\": 34,\n\t\"./Freedom Pie.png\": 35,\n\t\"./Gluten-free Blackberry.png\": 36,\n\t\"./Key Lime Raspberry.png\": 37,\n\t\"./Lemon Ice Box.png\": 38,\n\t\"./Marie Calendar's Pot Pies.png\": 39,\n\t\"./Mixed berry.png\": 40,\n\t\"./Nectarine-Raspberry.png\": 41,\n\t\"./Orange Meringue.png\": 42,\n\t\"./Pear Ginger.png\": 43,\n\t\"./Piecaken.png\": 44,\n\t\"./Pumpkin Pecan.png\": 45,\n\t\"./Raspberry Blueberry.png\": 46,\n\t\"./Raw Pumpkin.png\": 47,\n\t\"./Ruffled MIlk Pie.png\": 48,\n\t\"./Salted Honey II.png\": 49,\n\t\"./Salted Honey.png\": 50,\n\t\"./Samoa II.png\": 51,\n\t\"./Samoa.png\": 52,\n\t\"./Shoofly.png\": 53,\n\t\"./Strawberry Basil.png\": 54,\n\t\"./Strawberry Rhubarb.png\": 55,\n\t\"./Strawberry pie.png\": 56,\n\t\"./Virginia Peanut Pie.png\": 57,\n\t\"./Walgreens Pie.png\": 58,\n\t\"./White Peach.png\": 59,\n\t\"./Yellow Peach-1.png\": 60,\n\t\"./Yellow Peach.png\": 61,\n\t\"./pie.png\": 3\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 14;","module.exports = __webpack_public_path__ + \"static/media/Bird's Nest Pudding Pie.02a83a39.png\";","module.exports = __webpack_public_path__ + \"static/media/Blackberry.da58b568.png\";","module.exports = __webpack_public_path__ + \"static/media/Blueberry Cherry.84e089d5.png\";","module.exports = __webpack_public_path__ + \"static/media/Blueberry Pear Crumble.0a265269.png\";","module.exports = __webpack_public_path__ + \"static/media/Buttermilk.6f3a6c41.png\";","module.exports = __webpack_public_path__ + \"static/media/Captain Crunch.5b69057d.png\";","module.exports = __webpack_public_path__ + \"static/media/Carrot Meringue.1680a56b.png\";","module.exports = __webpack_public_path__ + \"static/media/Carrot.d55b1dc5.png\";","module.exports = __webpack_public_path__ + \"static/media/Cast Iron Apple Pie.975a5643.png\";","module.exports = __webpack_public_path__ + \"static/media/Chez Panisse Lemon Meringe.0d211018.png\";","module.exports = __webpack_public_path__ + \"static/media/Chocolate Avocado.197ef43b.png\";","module.exports = __webpack_public_path__ + \"static/media/Chocolate Peanut Butter.f8e2d9bd.png\";","module.exports = __webpack_public_path__ + \"static/media/Chocolate Peanut Pie Mashup.b1531258.png\";","module.exports = __webpack_public_path__ + \"static/media/Chocolate Peanut Tart.862e8d7a.png\";","module.exports = __webpack_public_path__ + \"static/media/Coconut Cream.32ccf3b3.png\";","module.exports = __webpack_public_path__ + \"static/media/Coffee Chess.8fa3e68a.png\";","module.exports = __webpack_public_path__ + \"static/media/Corn Cardamom Custard.ce2a09c8.png\";","module.exports = __webpack_public_path__ + \"static/media/Crack Pie.97cb328b.png\";","module.exports = __webpack_public_path__ + \"static/media/Eggnog custard.e9bf9636.png\";","module.exports = __webpack_public_path__ + \"static/media/Five berry pie.39c2ae2c.png\";","module.exports = __webpack_public_path__ + \"static/media/Freedom Pie.f33fcbba.png\";","module.exports = __webpack_public_path__ + \"static/media/Gluten-free Blackberry.12c8028a.png\";","module.exports = __webpack_public_path__ + \"static/media/Key Lime Raspberry.1681c63b.png\";","module.exports = __webpack_public_path__ + \"static/media/Lemon Ice Box.a7aad4f6.png\";","module.exports = __webpack_public_path__ + \"static/media/Marie Calendar's Pot Pies.f64636af.png\";","module.exports = __webpack_public_path__ + \"static/media/Mixed berry.5f32e9de.png\";","module.exports = __webpack_public_path__ + \"static/media/Nectarine-Raspberry.9f1d4643.png\";","module.exports = __webpack_public_path__ + \"static/media/Orange Meringue.3cc4f99a.png\";","module.exports = __webpack_public_path__ + \"static/media/Pear Ginger.d204c8c0.png\";","module.exports = __webpack_public_path__ + \"static/media/Piecaken.c567b9e2.png\";","module.exports = __webpack_public_path__ + \"static/media/Pumpkin Pecan.e76dead1.png\";","module.exports = __webpack_public_path__ + \"static/media/Raspberry Blueberry.6bb14ce7.png\";","module.exports = __webpack_public_path__ + \"static/media/Raw Pumpkin.2a6e40c8.png\";","module.exports = __webpack_public_path__ + \"static/media/Ruffled MIlk Pie.16e9b151.png\";","module.exports = __webpack_public_path__ + \"static/media/Salted Honey II.aca6aefc.png\";","module.exports = __webpack_public_path__ + \"static/media/Salted Honey.c9b0a076.png\";","module.exports = __webpack_public_path__ + \"static/media/Samoa II.dc5320fe.png\";","module.exports = __webpack_public_path__ + \"static/media/Samoa.dc5320fe.png\";","module.exports = __webpack_public_path__ + \"static/media/Shoofly.4dd45894.png\";","module.exports = __webpack_public_path__ + \"static/media/Strawberry Basil.9182bc67.png\";","module.exports = __webpack_public_path__ + \"static/media/Strawberry Rhubarb.4cb32af9.png\";","module.exports = __webpack_public_path__ + \"static/media/Strawberry pie.79788278.png\";","module.exports = __webpack_public_path__ + \"static/media/Virginia Peanut Pie.3a282b17.png\";","module.exports = __webpack_public_path__ + \"static/media/Walgreens Pie.05611736.png\";","module.exports = __webpack_public_path__ + \"static/media/White Peach.e7e43d5d.png\";","module.exports = __webpack_public_path__ + \"static/media/Yellow Peach-1.2e324eb6.png\";","module.exports = __webpack_public_path__ + \"static/media/Yellow Peach.8688657d.png\";","import React, {useState, useEffect} from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n\r\nfunction Triangle(props) {\r\n    function onlyUnique(value, index, self) {\r\n        return self.indexOf(value) === index;\r\n    }\r\n    let svg_ref = React.createRef();\r\n\r\n    const [render,setRender] = useState(0)\r\n    useEffect(() => {\r\n        console.log(props.data.length,props.fills.length,render,\"hook\")\r\n        if( props.data.length!=0 && props.fills.length!=0 && render==0) draw()\r\n    },)\r\n\r\n\r\n    const draw = () =>{\r\n        let svg = d3.select(svg_ref.current)\r\n        console.log(svg,svg_ref)\r\n\r\n        const data=props.data,\r\n            fills=props.fills\r\n\r\n        const nested = d3.nest().key(d => d).rollup(d => d.length).entries(fills)\r\n            .sort((a, b) => d3.descending(a.value, b.value));\r\n\r\n        const popular_fills = nested.slice(0, 7)\r\n        let popular_fills_names = popular_fills.map(d => d.key)\r\n\r\n        const other_fills = nested.slice(8)\r\n        const other_fills_names = other_fills.map(d => d.key)\r\n\r\n\r\n        data.forEach((d) => {\r\n            d.mod_fill_1 = (!popular_fills_names.includes(d.fill_1)) ? \"Other\" : d.fill_1\r\n            d.mod_fill_2 = (!popular_fills_names.includes(d.fill_2)) ? \"Other\" : d.fill_2\r\n        })\r\n\r\n        popular_fills_names = popular_fills_names.filter(el => el != \"None\")\r\n\r\n        //console.log(\"replaced with other\", mydata)\r\n\r\n        popular_fills_names.push(\"Other\")\r\n\r\n        //drawListOfPies()\r\n\r\n        const table = []\r\n        //let svg = d3.select(\"#root\").append(\"svg\")\r\n        //svg.attr(\"width\", 500).attr(\"height\", 500)\r\n        const g_lines = svg.append(\"g\").attr(\"class\", \"lines\"),\r\n            g_texts = svg.append(\"g\").attr(\"class\", \"texts\")\r\n\r\n        popular_fills_names.forEach((fill_1, i) => {\r\n\r\n            let xx = 0\r\n\r\n\r\n            const hor_gap = 100,\r\n                hor_gap_line = hor_gap + 25,\r\n                start_y = 25\r\n\r\n            svg.append(\"text\").attr(\"x\", xx * 20).attr(\"y\", i * 40 + start_y).text(fill_1).classed(fill_1, true)\r\n\r\n            for (var j = i; j <= popular_fills_names.length - 1; j++) {\r\n\r\n                const fill_2 = popular_fills_names[j]\r\n                xx++\r\n\r\n                let filter = data.filter(el => ((el.mod_fill_1 == fill_1 && el.mod_fill_2 == fill_2) || (el.mod_fill_1 == fill_1 && el.mod_fill_2 == \"None\" && fill_1 == fill_2)))\r\n                let filter2 = data.filter(el => ((el.mod_fill_2 == fill_1 && el.mod_fill_1 == fill_2 && fill_1 != fill_2)))\r\n\r\n\r\n\r\n                g_texts.append(\"circle\")\r\n                    .attr(\"r\", (d)=>(filter.length + filter2.length>0) ? 8 : 0)\r\n                    .attr(\"cx\", xx * 20 + hor_gap + 5)\r\n                    .attr(\"cy\", i * 20 + j * 20 + start_y - 5)\r\n                    .classed( fill_1, true)\r\n                    .classed( fill_2, true)\r\n                    .on(\"mouseover\", function () {\r\n                        props.selectedFill({f1:fill_1,f2:fill_2})\r\n                    })\r\n                    .on(\"mouseout\", function () {\r\n                        props.selectedFill({f1:\"none\",f2:\"none\"})\r\n                    })\r\n\r\n                g_texts.append(\"text\")\r\n                    .attr(\"x\", xx * 20 + hor_gap + 5)\r\n                    .attr(\"y\", i * 20 + j * 20 + start_y)\r\n                    .text(()=> (filter.length + filter2.length>0) ? filter.length + filter2.length : \"\")\r\n                    .classed(\"row_\" + fill_1, true)\r\n                    .classed(\"col_\" + fill_2, true)\r\n                    .attr(\"pointer-events\",\"none\")\r\n\r\n                table.push({\r\n                        fill_1: fill_1,\r\n                        fill_2: fill_2,\r\n                        count: filter.length + filter2.length\r\n                    }\r\n                )\r\n            }\r\n\r\n            g_lines.append(\"line\")\r\n                .attr(\"x1\", hor_gap_line)\r\n                .attr(\"y1\", i * 40 + 20)\r\n                .attr(\"x2\", xx * 20 + hor_gap_line - 15-5)\r\n                .attr(\"y2\", i * 20 + j * 20-5+5)\r\n                .attr(\"stroke\", \"green\")\r\n                .attr(\"class\", fill_1)\r\n\r\n            g_lines.append(\"line\")\r\n                .attr(\"x1\", hor_gap_line)\r\n                .attr(\"y1\", i * 40 + 20)\r\n                .attr(\"x2\", (i) * 20 + hor_gap_line)\r\n                .attr(\"y2\", i * 40 + 20 - (7 - xx) * 20)\r\n                .attr(\"stroke\", \"blue\")\r\n                .attr(\"class\", fill_1)\r\n\r\n        })\r\n        popular_fills_names.forEach((fill_1, i) => {\r\n\r\n            svg.selectAll(\"text.\" + fill_1).on(\"mouseover\", function () {\r\n\r\n                const selectedFill=d3.select(this).attr(\"class\")\r\n\r\n                props.selectedFill({f1:selectedFill,f2:\"none\"})\r\n\r\n                svg.selectAll(\"text\").classed(\"hovered\", false)\r\n                d3.select(this).classed(\"hovered\", true)\r\n\r\n                svg.selectAll(\"text.col_\" + selectedFill).classed(\"hovered\", true)\r\n                svg.selectAll(\"text.row_\" + selectedFill).classed(\"hovered\", true)\r\n\r\n                g_lines.selectAll(\"line\").classed(\"hovered\", false)\r\n                g_lines.selectAll(\"line.\" + selectedFill).classed(\"hovered\", true)\r\n\r\n                g_texts.selectAll(\"circle\").classed(\"hovered\", false)\r\n                g_texts.selectAll(\"circle.\" + selectedFill).classed(\"hovered\", true)\r\n\r\n            })\r\n                .on(\"mouseout\", function () {\r\n                    props.selectedFill({f1:\"none\",f2:\"none\"})\r\n                    svg.selectAll(\"text\").classed(\"hovered\", false)\r\n                    g_lines.selectAll(\"line\").classed(\"hovered\", false)\r\n                    g_texts.selectAll(\"circle\").classed(\"hovered\", false)\r\n                   // pie_container.selectAll(\"span\").style(\"color\", \"black\")\r\n\r\n                })\r\n        })\r\n\r\n        setRender(1)\r\n    }\r\n\r\n    return (\r\n        <div className=\"triangle\">\r\n            <h3>Filling filter</h3>\r\n            <svg ref={svg_ref} width={260} height={300}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Triangle;\r\n","import React, {useState, useEffect} from 'react';\nimport * as d3 from 'd3';\nimport './App.css';\nimport pie from './img/pie.png';\n\n\n\n//<img src={images['doggy.png']} />\n\nimport Triangle from \"./Triangle\";\n\nfunction App() {\n    function onlyUnique(value, index, self) {\n        return self.indexOf(value) === index;\n    }\n\n\n\n\n    const pieContainer_ref = React.createRef()\n\n    const [data, setData] = useState([]);\n    const [fills, setFills] = useState([]);\n    const [selectedFill, setSelectedFill] = useState({\"f1\": \"none\", \"f2\": \"none\"})\n\n    useEffect(() => {\n\n        const fetchData = () => {\n            d3.csv(\"https://docs.google.com/spreadsheets/d/e/2PACX-1vTT_w_1rgvRuiIkhgZ7GGjhWdxNTY2zuFEsuT7AtK80ryUlPZMN96ROjIljXTAewLEm6CClM5HwIiFv/pub?gid=0&single=true&output=csv\").then(function (raw_data) {\n                const fills = [];\n                const parseDate = d3.timeParse(\"%Y-%m-%d\");\n\n                let mydata = raw_data.map((el, i) => {\n\n                    const fill_1 = (el['primary filling'] != \"\") ? el['primary filling'].replace(\" \", \"_\") : \"None\",\n                        fill_2 = (el['secondary filling'] != \"\") ? el['secondary filling'].replace(\" \", \"_\") : \"None\"\n\n                    fills.push(fill_1)\n                    fills.push(fill_2)\n\n                    return {\n                        //Pie\tDate served\tRecipe\tone-crust\ttwo crust\tprimary filling\tsecondary filling\tNotes\talec will eat it\tImage\tIs this pie?\n                        id: i,\n                        name: el['Pie'],\n                        date: parseDate(el['Date served']),\n                        alec: el['alec will eat it'],\n                        crust: (el['one-crust'] && !el['two crust']) ? 1 : 2,\n                        img:el[Image],\n                        notes: el['Notes'],\n                        is_pie: el['Is this pie?'],\n                        recipe: el['Recipe'],\n                        fill_1: fill_1,\n                        fill_2: fill_2\n                    }\n                })\n                const nested = d3.nest().key(d => d).rollup(d => d.length).entries(fills)\n                    .sort((a, b) => d3.descending(a.value, b.value));\n\n                const popular_fills = nested.slice(0, 7)\n                let popular_fills_names = popular_fills.map(d => d.key)\n\n                mydata.forEach((d) => {\n                    d.mod_fill_1 = (!popular_fills_names.includes(d.fill_1)) ? \"Other\" : d.fill_1\n                    d.mod_fill_2 = (!popular_fills_names.includes(d.fill_2)) ? \"Other\" : d.fill_2\n                })\n                setData(mydata)\n                setFills(fills)\n\n\n            })\n\n        }\n\n        fetchData();\n\n    }, []);\n\n    /*change state on hover of triangle table*/\n    useEffect(() => {\n        drawListOfPies(data);\n    },[data])\n\n    /*effect when nothing is hoveread or hovered a number*/\n    useEffect(()=>{\n        if (selectedFill.f1===\"none\") d3.selectAll(\"span.pie\").classed(\"activeItem\",true).classed(\"unactiveItem\",false)\n        else {\n            d3.selectAll(\"span.pie\").classed(\"unactiveItem\",true)\n\n            if (selectedFill.f2===\"none\"){\n                d3.selectAll(\"span.pie.\"+selectedFill.f1).classed(\"unactiveItem\",false)\n            }\n            else {\n                d3.selectAll(\"span.pie\")\n                    .filter((d) =>\n                        (d.mod_fill_1 === selectedFill.f1 && d.mod_fill_2 === selectedFill.f2)\n                        || (d.mod_fill_1 === selectedFill.f2 && d.mod_fill_2 === selectedFill.f1)\n                        || (d.mod_fill_1 === selectedFill.f1 && d.mod_fill_2 === \"None\" && selectedFill.f1===selectedFill.f2))\n                .classed(\"unactiveItem\",false)\n            }\n\n        }\n    })\n\n    const drawListOfPies = (data) =>{\n\n        function importAll(r) {\n            let images = {};\n            r.keys().map((item, index) => { images[item.replace('./', '')] = r(item); });\n            return images;\n        }\n\n        const images = importAll(require.context('./img', false, /\\.(png|jpe?g|svg)$/));\n\n        let pie_container = d3.select(pieContainer_ref.current)\n\n        const format = d3.timeFormat(\"%Y %B\"); /*format date for nesting data by months*/\n\n        const nested_by_date = d3.nest().key(d => {\n            return format(d.date);\n        }).entries(data)\n\n        //console.log(\"pie by date\", nested_by_date)\n\n        const month_div = pie_container.selectAll(\"div.pies_in_month\").data(nested_by_date).enter().append(\"div\").classed(\"pies_in_month\",true)\n\n        month_div.append(\"div\").classed(\"month_name\", true)\n            .html((d) => {\n                const formatMonth = d3.timeFormat(\"%B\")\n                const formatYear = d3.timeFormat(\"%Y\")\n                const parseTime = d3.timeParse(\"%Y %B\")\n                const month = \"<span class='month_wrapper'><span class='month'>\"+formatMonth(parseTime(d.key))+\"</span></span>\"\n                const year = \"<span class='year year\"+formatYear(parseTime(d.key))+\"'>\"+formatYear(parseTime(d.key))+\"</span>\"\n                return year + month\n            })\n\n        pie_container.selectAll(\".year2018\").filter((d, i) => i == 0).classed(\"visible\",true)\n        pie_container.selectAll(\".year2019\").filter((d, i) => i == 0).classed(\"visible\",true)\n        pie_container.selectAll(\".year2020\").filter((d, i) => i == 0).classed(\"visible\",true)\n\n        if (pie_container.select(\".year2019\").node()) {\n            const element = pie_container.select(\".year2019\").node().parentNode.parentNode\n            const parent = pie_container.select(\".year2019\").node().parentNode.parentNode.parentNode\n            const div = document.createElement('div');\n            div.className = \"line_breaker\";\n            parent.insertBefore(div, element);\n\n        }\n\n\n         month_div.append(\"div\").classed(\"pies_list\", true).selectAll(\"span.pie\").data(d => d.values).enter().append(\"span\").classed(\"pie\", true)\n            .html((e,i,a) => {\n                const pie_img = (images[e.name+\".png\"]) ? images[e.name+\".png\"] : pie\n                e.pie_img=pie_img\n                const formatDay = d3.timeFormat(\"%e\")\n                const parseTime = d3.timeParse(\"%Y %B %e\")\n                return \"<span class='number \"+wrapClass(e,a[i+1])+hideClass(e,a[i-1])+\"'>\"+formatDay(e.date)+\"</span><img alt='\"+e.name+\"' src=\\\"\"+pie_img+\"\\\" width='88' height='88'>\"\n            })\n            .attr(\"class\", (d, i, a) => \"pie \" + d.fill_1 + \" \" + d.fill_2 + \" \" + d.mod_fill_1 + \" \" + d.mod_fill_2+ \" \" + activeClass(d.fill_1, d.fill_2) + wrapClass(d,a[i+1]))\n            .on(\"mouseenter\", showDetail)\n            .on(\"mouseleave\", hideDetail)\n\n        let month_wrappers=pie_container.node().querySelectorAll('.pies_in_month')\n\n        month_wrappers.forEach((wrapper) => {\n                unwrap(wrapper);\n            });\n\n        let pie_wrappers=pie_container.node().querySelectorAll('.pies_list')\n        pie_wrappers.forEach((wrapper) => {\n            unwrap(wrapper);\n        });\n\n\n\n        function unwrap(wrapper) {\n            if (wrapper) {\n                // place childNodes in document fragment\n                var docFrag = document.createDocumentFragment();\n                while (wrapper.firstChild) {\n                    var child = wrapper.removeChild(wrapper.firstChild);\n                    docFrag.appendChild(child);\n                }\n\n                // replace wrapper with document fragment\n                wrapper.parentNode.replaceChild(docFrag, wrapper);\n            }\n        }\n\n\n\n\n        function showDetail(dd) {\n            d3.select(\".tooltip\").remove()\n            console.log(\"hover\")\n            d3.select(\"body\").append(\"div\").classed(\"tooltip\", true)\n                .html(() =>\n            {\n                const d =dd\n                const formatDay = d3.timeFormat(\"%A, %B %e, %Y\")\n\n                return \"<img  alt='\"+d.name + \"' src='\" + d.pie_img + \"' width='256' height='256'> <div class='details'>\"\n                    + \"<div class='date'>\" +formatDay(d.date) + \"</div>\"\n                    + \"<div class='name'><a href='\"+d.recipe+\"'>\" +d.name + \"</a></div>\"\n                    + \"<div class='fill'>\" +d.fill_1 + ((d.fill_2!='None' && d.fill_1!=d.fill_2) ? \" and \"+d.fill_2 : \"\") + \", \"+ ((d.crust===1) ? \"one crust\" : \"two crusts\")+\"</div>\"\n                    + ((d.notes) ? \"<div class='notes'>\"+d.notes+\"</div>\" : \"\")\n                    + \"<div class='is_pie'> — Is this pie? <br> — \"+d.is_pie+\"</div>\"\n                    + \"<div class='alec'> — Will Alec eat it? <br> — \"+d.alec+\"</div></div>\"\n            })\n                .style(\"left\", d3.select(this).node().getBoundingClientRect().left - 88 + \"px\")\n                .style(\"top\", d3.select(this).node().getBoundingClientRect().top+window.scrollY + 130 + \"px\")\n                //.classed(\"hovered\", true)\n                .on(\"mouseenter\",function () {\n                    console.log(\"hovered\", this)\n                    d3.select(this).classed(\"hovered\", true)\n                })\n                .on(\"mouseleave\",function () {\n\n                    d3.select(this).classed(\"hovered\", false)\n                    d3.select(this).classed(\"not_hovered\", true)\n                    console.log(\"not hovered\",this)\n                   d3.select(this).remove()\n                })\n        }\n\n        function hideDetail(d) {\n           if (d3.select(\".tooltip\").classed(\"not_hovered\"))\n\n\n           d3.selectAll(\".tooltip\").remove()\n        }\n\n    }\n\n\n\n    const handleSelectedFill = (value) =>{\n        setSelectedFill(value)\n    }\n\n    const activeClass = (f1,f2) =>{\n\n        if ((f1===selectedFill.f1 || f2===selectedFill.f1) && selectedFill.f2===\"none\")\n            {console.log(f1,f2,selectedFill)\n            return \" activeItem \"}\n        if (f1===selectedFill.f1 && f2===selectedFill.f2)\n        {console.log(f1,f2,selectedFill)\n            return \" activeItem \"}\n\n        return \" unactiveItem \"\n    }\n\n    const wrapClass = (d,g) =>{\n        if (g && d.date.getTime() === g.__data__.date.getTime()) {\n            return \" wrapPie \"\n        }\n    }\n\n    const hideClass = (d,g) =>{\n        if (g && d.date.getTime() === g.__data__.date.getTime()) {\n            return \" invisibleNumber \"\n        }\n    }\n\n    return (<div>\n            <div className=\"left_side\">\n                <div className=\"sticky_top\">\n                <h1>The Pie Chart</h1>\n                <h2>The pies proudly eaten by the Stamen team</h2>\n\n                    <Triangle data={data} fills={fills} selectedFill={handleSelectedFill}/>\n\n                </div>\n                <div className=\"unsticky\" />\n                <div className=\"sticky_bottom\">\n                    <div className=\"footer\">\n                        Made by <a href=\"https://kmpny.github.io\">Kompany</a>, <a href=\"https://docs.google.com/spreadsheets/d/1npXQKNySYcRpiwp3-Iug3ncmCUS9F813LoxZQzSbVLU/edit#gid=0\">data</a> collected by <a href=\"https://stamen.com\">Stamen</a>\n                    </div>\n                </div>\n            </div>\n            <div className=\"right_side\">\n                <div className=\"pies\" ref={pieContainer_ref}/>\n                <div className=\"bottom\">Well done! Keep going!</div>\n            </div>\n\n        </div>);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}